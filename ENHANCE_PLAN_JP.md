# Global Supply Chain Tycoon (GSCT) 進化版ロードマップ案

本ドキュメントは、GSCTの「SCM学習力」と「ゲーム性」を向上させるための新機能と拡張案をまとめたものです。

---

## 1. 複雑性の導入：マルチプロダクト ＆ BOM (Bill of Materials)
単一製品の配送から、部品を組み合わせて完成品を作る「製造業のリアル」へと進化させます。

- **BOM（部品構成表）システム:**
  - 例：製品A ＝ 原料X(2) ＋ 部品Y(1)。
  - 原料産地から工場へ複数の部材を集め、在庫のキッティング（揃い打ち）を管理する難易度を追加。
- **リードタイムの積み上げ:**
  - 各部材の調達リードタイムが異なるため、「一点の部品欠品でラインが止まる」というSCMの重要課題を再現。
- **学習要素:** 同期化（Synchronization）、欠品リスク管理、部材在庫の最適化。

## 2. 事業拡大：サプライチェーン・ネットワーク投資
初期マップの管理だけでなく、プレイヤーの意思決定で世界中にネットワークを広げる成長要素を追加します。

- **ノード開発投資:**
  - **原料産地:** 採掘効率の向上、希少原料の確保。
  - **工場:** 生産ラインの増設、自動化（加工費削減）、品質管理向上。
  - **市場:** 広告宣伝による需要喚起、流通網の整備。
- **新規拠点の開拓:**
  - キャッシュを投じて、新たな国や地域に拠点（ノード）を建設し、最適な物流網を再設計する。
- **学習要素:** 設備投資判断（ROI）、垂直統合 vs 水平分業、グローバル・ネットワーク・デザイン。

## 3. 持続可能性：CO2排出量 ＆ グリーン投資
現代のSCMにおける最重要テーマ「グリーン・トランスフォーメーション (GX)」をゲームに組み込みます。

- **カーボンフットプリントの可視化:**
  - 輸送モード（空輸は高排出、海運は低排出）や工場稼働に応じたCO2排出量を算出。
- **炭素税・環境規制:**
  - 排出量に応じた課税や、一定量を超えた際のペナルティ。
- **グリーン投資:**
  - 「電気貨物船へのアップグレード」「工場の再生可能エネルギー化」などへの投資により、長期的な税負担を軽減。
- **学習要素:** 環境負荷とコストのトレードオフ、ESG経営、サステナブル・サプライチェーン。

## 4. リスク管理：サプライチェーン・ディスラプション
不確実性（VUCA）への対応力を試す動的なイベントを導入します。

- **ランダムイベント:**
  - 「運河の座礁事故による航路閉鎖」「港湾ストライキ」「特定地域での異常気象」。
- **緊急対応モード:**
  - 事故発生時、一時的に「超特急便」や「代替ルート」を設定し、在庫切れを最小限に抑える判断。
- **学習要素:** レジリエンス（復元力）、BCP（事業継続計画）、安全在庫の戦略的配置。

## 5. 戦略的ミッション：緊急オーダー ＆ 契約
定常的な販売に加え、短期的なビジネスチャンスを提供します。

- **緊急契約 (Spot Contracts):**
  - 「10日以内に、鮮度90%以上の製品を特定の市場へ100個納入せよ」といった時限ミッション。
  - 達成で多額の報酬、失敗で違約金。
- **学習要素:** アジリティ（俊敏性）、優先順位判断。

## 6. 高度な分析：財務・オペレーション可視化
経営判断を支援するためのBI（ビジネスインテリジェンス）機能を強化します。

- **Cost-to-Serve 分析:**
  - 製品1個あたりの「製造原価」「輸送費」「在庫保管費」「廃棄ロス」の内訳を表示。
- **感度分析グラフ:**
  - 輸送頻度を変えた際に、トータルコストがどう変化するかをシミュレーション。
- **学習要素:** 総コスト（Total Cost of Ownership）の概念、データドリブン経営。

## 7. ゲームフロー：期間設定と中間成績
ゲームの進行を管理しやすくし、長期的な戦略と振り返りを可能にします。

- **ゲーム期間設定:**
  - ゲーム開始画面で、プレイ期間（例：1年、3年、5年）を選択可能。
- **年次進行とストップ:**
  - 1年ごとにゲームが一時停止し、その年度の収支やKPIなどの中間成績を表示。
- **年度表示:**
  - ゲーム画面上に「現在何年目か（例：2 / 5 年）」をリアルタイムで表示。
- **学習要素:** 長期的な戦略策定、パフォーマンス評価サイクル、目標管理。

## 8. 開発戦略：1ファイルでの保守性維持 (Single-File Strategy)
1HTML構成を維持しつつ、LLMがコンテキストを正確に把握し、安全に拡張・修正を繰り返せるよう「仮想モジュール」戦略を採用します。

- **モジュール境界の定義:** `// --- MODULE: [NAME] ---` のような標準化されたデリミタを用い、データ、ステート、エンジン、UI、描画ロジックを分離。
- **機能の局所化:** `UIManager` や `EventSystem` などのオブジェクトリテラルやクラスに機能をカプセル化し、グローバル変数の汚染を防止。
- **ステートの一元管理:** `state` オブジェクトに全ての動的データを集約し、どのモジュールからも予測可能な状態管理を実現。
- **UI テンプレート化:** 複雑なUI生成を「描画関数（Render Functions）」に集約し、ビジネスロジックとHTML構造を分離。

## 9. システム統合：共通イベント・フレームワーク
既存の「マーケットスパイク（需要急増）」と新規の「クライシス（供給寸断）」を共通のイベントエンジンに統合します。

- **共通スキーマ:** ID、タイプ、対象（ノード/航路）、倍率（需要・生産・コスト・速度）、継続時間、ビジュアル効果を一括管理。
- **動的プロパティ操作:** イベントシステムを通じて、ノードの需要倍率や航路の移動コストをリアルタイムに上書き。
- **視覚的フィードバック:** 通知エリアとパーティクル演出を統一し、ポジティブ（金・緑）とネガティブ（赤・警告）のイベントを直感的に識別可能。

## 10. 海上物流：航路の適正化 (Nautical Routing)
大円距離（直線）による陸地横断を防止し、船舶が適切な海路を通るようにロジックを強化します。

- **海上ウェイポイント・グラフ:** 海峡、岬、運河の入り口などの「海上の中継点」を網羅したネットワークを定義。
- **港湾アプローチ:** 各拠点に「入港ポイント（海岸線上の座標）」を設定し、船舶が陸地に重なることなく接岸する演出。
- **最適海路選択:** 出発地と目的地に応じて、適切なウェイポイントの連鎖を自動選択するルーティングアルゴリズムの実装。

---

## 実装優先順位の提案（再定義版）

1.  **Phase 1: Foundation & Reliability（コード基盤とコアロジックの適正化）**
    *   **コード分割戦略:** 既存コードを「仮想モジュール」構造へリファクタリングし、LLMによる保守性を向上。
    *   **航路最適化 (Nautical Routing):** 陸地横断を防止する海上ウェイポイント・システムの導入。
    *   **共通イベント基盤:** 需要急増（Spike）と供給寸断（Disruption）を統合した拡張性の高いエンジンの構築。
    *   **ゲームフロー:** 期間設定と年次進行ロジックの実装。

2.  **Phase 2: Visibility & Analytics（ビジネス・インテリジェンスの強化）**
    *   **財務可視化:** 詳細な Cost-to-Serve 分析（TCO の把握）。
    *   **感度分析:** 輸送頻度や輸送モードの変更がコストに与える影響を視覚化するグラフ機能。

3.  **Phase 3: Strategic Growth（ネットワーク投資と拡大）**
    *   **開発投資:** ROI（投資対効果）を考慮した工場・鉱山・市場のアップグレード。
    *   **拠点開拓:** キャッシュを投じた新規ノードの建設と物流網の再設計。

4.  **Phase 4: Operational Complexity（マルチプロダクト ＆ BOM）**
    *   **BOM システム:** 複数の部材を組み合わせて完成品を作る製造ロジックの導入。
    *   **リードタイムの積み上げ:** 複雑な製造における部材同期化（Synchronization）の課題再現。

5.  **Phase 5: Sustainability & Brand（グリーン・トランスフォーメーション）**
    *   **GX 投資:** CO2排出量の可視化と、環境負荷を低減するグリーン設備（電気貨物船等）への投資。
    *   **ESG 経営:** 環境規制が長期的な収益性に与える影響のシミュレーション。
